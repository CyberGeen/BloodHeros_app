FIXME: fix the shitty hooks and useContext shit